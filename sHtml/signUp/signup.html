<!DOCTYPE HTML>
<html>
<head>
	<meta HTTP-EQUIV="Pragma" CONTENT="no-cache">
	<meta HTTP-EQUIV="Cache-Control" CONTENT="no-cache, must-revalidate">
	<meta HTTP-EQUIV="Expires" CONTENT="0">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="description" content="七彩部落colobu，微营销报名插件" />
	<meta name="keywords" content="七彩部落, colobu, 报名, 课程" />
	<title>报名表</title>

	<link type="text/css" rel="stylesheet" href="./styles/swiper.min.css" media="screen" />
	<link type="text/css" rel="stylesheet" href="./styles/util.css" media="screen" />


	<script type="text/javascript" src="http://g.tbcdn.cn/mtb/lib-flexible/0.3.2/??flexible_css.js,flexible.js"></script>
	<script type="text/javascript" src="http://libs.baidu.com/jquery/1.10.2/jquery.min.js"></script>
	<script type="text/javascript" src="./scripts/swiper.jquery.min.js"></script>
	<script type="text/javascript" src="./scripts/jquery.dotdotdot.min.js"></script>


    <script src="./scripts/mobiscroll/js/mobiscroll.core-2.5.2.js" type="text/javascript"></script>
	<script src="./scripts/mobiscroll/js/mobiscroll.core-2.5.2-zh.js" type="text/javascript"></script>
	<link href="./scripts/mobiscroll/css/mobiscroll.core-2.5.2.css" rel="stylesheet" type="text/css" />
	<link href="./scripts/mobiscroll/css/mobiscroll.animation-2.5.2.css" rel="stylesheet" type="text/css" />
	<script src="./scripts/mobiscroll/js/mobiscroll.datetime-2.5.1.js" type="text/javascript"></script>
	<script src="./scripts/mobiscroll/js/mobiscroll.datetime-2.5.1-zh.js" type="text/javascript"></script>
	<script src="./scripts/mobiscroll/js/mobiscroll.android-ics-2.5.2.js" type="text/javascript"></script>
	<link href="./scripts/mobiscroll/css/mobiscroll.android-ics-2.5.2.css" rel="stylesheet" type="text/css" />


</head>
<body>
	<div id="signupWrap">
		<div class="blankBox"></div>
		<div id="signupBody">
			<h1>报名表</h1>
			<dl>
				<dt>小孩信息：</dt>
				<dd><input class="inputBox" type="text" placeholder="小名"></dd>
				<dd><input class="inputBox" type="text" placeholder="出生日期" id="appDate"></dd>
				<dd><div class="radioBox male"><input type="radio" name="sex" value="0">男</div><div class="radioBox famale checked"><input type="radio" name="sex" value="1" checked>女</div></dd>
				<dt>联系人：</dt>
				<dd><input class="inputBox" type="text" placeholder="姓名"></dd>
				<dd><input class="inputBox" type="tel" placeholder="手机号" id="appPhone" oninput="myFunction(this)"></dd>
			</dl>
		</div>
		<div id="signupBtn">
			<p class="text">请填写完整的报名信息</p>
		</div>
	</div>
	<script type="text/javascript">
	var appPhoneIndex = 0;
	function myFunction(thisI){
		var text = thisI.value;
		var counter = text.length;
		switch (counter){
			case 0: appPhoneIndex = 0;break;
			case 1: 
				if(!/1/.test(text)){
					thisI.value='';
				}else{
					appPhoneIndex = 1;
				} break;
			case 2: 
				if(!/1\d/.test(text)){
					thisI.value=text.substring(0,counter-1);
				}else{
					appPhoneIndex = 2;
				} break;
			case 3: 
				if(!/1\d{2}/.test(text)){
					thisI.value=text.substring(0,counter-1);
				}else if(appPhoneIndex>=3){
					thisI.value=text.substring(0,counter-1);
					appPhoneIndex = 2;
				}else {
					thisI.value=text+'-';
					appPhoneIndex = 4;
				} break;
			case 4: appPhoneIndex = 4;break;
			case 5: 
				if(!/1\d{2}\-\d/.test(text)){
					thisI.value=text.substring(0,counter-1);
				}else{
					appPhoneIndex = 5;
				} break;
			case 6: 
				if(!/1\d{2}\-\d{2}/.test(text)){
					thisI.value=text.substring(0,counter-1);
				}else{
					appPhoneIndex = 6;
				} break;
			case 7: 
				if(!/1\d{2}\-\d{3}/.test(text)){
					thisI.value=text.substring(0,counter-1);
				}else{
					appPhoneIndex = 6;
				} break;
			case 8: 
				if(!/1\d{2}\-\d{4}/.test(text)){
					thisI.value=text.substring(0,counter-1);
				}else if(appPhoneIndex>=8){
					thisI.value=text.substring(0,counter-1);
					appPhoneIndex = 7;
				}else {
					thisI.value=text+'-';
					appPhoneIndex = 9;
				} break;
			case 9: appPhoneIndex = 9;break;
			case 10: 
				if(!/1\d{2}\-\d{4}/.test(text)){
					thisI.value=text.substring(0,counter-1);
				}else{
					appPhoneIndex = 8;
				} break;
			case 11: 
				if(!/1\d{2}\-\d{4}/.test(text)){
					thisI.value=text.substring(0,counter-1);
				}else{
					appPhoneIndex = 8;
				} break;
			case 12: 
				if(!/1\d{2}\-\d{4}/.test(text)){
					thisI.value=text.substring(0,counter-1);
				}else{
					appPhoneIndex = 8;
				} break;
			case 13: 
				if(!/1\d{2}\-\d{4}/.test(text)){
					thisI.value=text.substring(0,counter-1);
				}else{
					appPhoneIndex = 8;
				} break;
			default: thisI.value=text.substring(0,counter-1);break;
		}
	}
	$(function(){
			var currYear = (new Date()).getFullYear();
			var opt={};
			opt.date = {preset : 'date'};
			//opt.datetime = { preset : 'datetime', minDate: new Date(2012,3,10,9,22), maxDate: new Date(2014,7,30,15,44), stepMinute: 5  };
			opt.datetime = {preset : 'datetime'};
			opt.time = {preset : 'time'};
			opt.default = {
				theme: 'android-ics light', //皮肤样式
		        display: 'modal', //显示方式 
		        mode: 'scroller', //日期选择模式
				lang:'zh',
		        startYear:currYear - 20, //开始年份
		        endYear:currYear //结束年份
			};

			$("#appDate").val('').scroller('destroy').scroller($.extend(opt['date'], opt['default']));
	})
	</script>
	<script src="./scripts/util.js"></script>
</body>
</html>